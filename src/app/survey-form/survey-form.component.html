<div class="container">

  <div class="mt-3 col-md-12">

    <h1>CS Department Campus Visit Feedback Survey</h1>
    <p>Thank you for visiting the CS Department at George Mason University. We value your feedback to help us improve
      our campus visit experience. Please take a few minutes to complete the survey below.</p>

    <!-- Survey form -->
    <form [formGroup]="surveyForm" (ngSubmit)="saveSurvey()">
      <p>All fields marked with * are required</p>

      <!-- Username field -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="firstname" class="form-label">Firstname *</label>
          <input type="text" class="form-control" formControlName="firstName" id="firstname" name="firstname" placeholder="johndoe" autofocus required>
          <div *ngIf="submitted && f['firstName'].errors" class="text-danger">
            <div *ngIf="f['firstName'].errors['required']">Firstname is required!</div>
          </div>
        </div>
        <div class="col-md-6">
          <label for="lastname" class="form-label">Lastname *</label>
          <input type="text" class="form-control" formControlName="lastName" id="lastname" name="lastname" placeholder="johndoe" autofocus required>
          <div *ngIf="submitted && f['lastName'].errors" class="text-danger">
            <div *ngIf="f['lastName'].errors['required']">Lastname is required!</div>
          </div>
        </div>
      </div>

      <!-- Street Address -->
      <div class="mb-3">
        <label for="address" class="form-label">Street Address *</label>
        <input type="text" class="form-control" formControlName="streetAddress" id="address" name="address" required placeholder="123 Main St">
        <div *ngIf="submitted && f['streetAddress'].errors" class="text-danger">
          <div *ngIf="f['streetAddress'].errors['required']">Street Address is required!</div>
        </div>
      </div>

      <!-- City, State, Zip -->
      <div class="row mb-3">
        <div class="col-md-4">
          <label for="city" class="form-label">City *</label>
          <input type="text" class="form-control" formControlName="city" id="city" name="city" required placeholder="Fairfax">
          <div *ngIf="submitted && f['city'].errors" class="text-danger">
            <div *ngIf="f['city'].errors['required']">City is required!</div>
          </div>
        </div>
        <div class="col-md-4">
          <label for="state" class="form-label">State *</label>
          <input type="text" class="form-control" formControlName="state" id="state" name="state" required placeholder="VA">
          <div *ngIf="submitted && f['state'].errors" class="text-danger">
            <div *ngIf="f['state'].errors['required']">State is required!</div>
          </div>
        </div>
        <div class="col-md-4">
          <label for="zip" class="form-label">ZIP *</label>
          <input type="text" class="form-control" formControlName="zip" id="zip" name="zip" required placeholder="20166">
          <div *ngIf="submitted && f['zip'].errors" class="text-danger">
            <div *ngIf="f['zip'].errors['required']">Zip is required!</div>
          </div>
        </div>
      </div>

      <!-- Telephone Number field-->
      <div class="mb-3">
        <label for="telephone" class="form-label">Telephone Number *</label>
        <input type="tel" class="form-control" formControlName="telephoneNumber" id="telephone" name="telephone" required placeholder="(555) 555-5555">
        <div *ngIf="submitted && f['telephoneNumber'].errors" class="text-danger">
          <div *ngIf="f['telephoneNumber'].errors['required']">Telephone Number is required!</div>
        </div>
      </div>

      <!-- Email field -->
      <div class="mb-3">
        <label for="email" class="form-label">Email *</label>
        <input type="email" class="form-control" formControlName="email" id="email" name="email" placeholder="example@example.com" required>
        <div *ngIf="submitted && f['email'].errors" class="text-danger">
          <div *ngIf="f['email'].errors['required']">Email is required!</div>
        </div>
      </div>

      <!-- date field -->
      <div class="mb-3">
        <label for="surveyDate" class="form-label">Date of Survey (mm/dd/yyyy) *</label>
        <input type="date" class="form-control" formControlName="dateOfSurvey" id="surveyDate" name="surveyDate" placeholder="MM/DD/YYYY" required>
        <div *ngIf="submitted && f['dateOfSurvey'].errors" class="text-danger">
          <div *ngIf="f['dateOfSurvey'].errors['required']">Date of Survey is required!</div>
        </div>
      </div>

      <!-- field for checkboxes for what students liked most -->
      <div class="mb-3">
        <label class="form-label">What did you like most about the campus? (Select all that apply)</label>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedStudents" id="likedStudents" value="students">
          <label class="form-check-label" for="likedStudents">Students</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedLocation" id="likedLocation" value="location">
          <label class="form-check-label" for="likedLocation">Location</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedCampus" id="likedCampus" value="campus">
          <label class="form-check-label" for="likedCampus">Campus</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedAtmosphere" id="likedAtmosphere" value="atmosphere">
          <label class="form-check-label" for="likedAtmosphere">Atmosphere</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedDormRooms" id="likedDormRooms" value="dorm rooms">
          <label class="form-check-label" for="likedDormRooms">Dorm Rooms</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="likedMost[]" formControlName="likedSports" id="likedSports" value="sports">
          <label class="form-check-label" for="likedSports">Sports</label>
        </div>
      </div>

      <!-- radio buttons for how they became interested -->
      <div class="mb-3">
        <label class="form-label">How did you become interested in the university?</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="interestSource" formControlName="interestSource" id="interestFriends" value="FRIENDS">
          <label class="form-check-label" for="interestFriends">Friends</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="interestSource" formControlName="interestSource" id="interestTV" value="TELEVISION">
          <label class="form-check-label" for="interestTV">Television</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="interestSource" formControlName="interestSource" id="interestInternet" value="INTERNET">
          <label class="form-check-label" for="interestInternet">Internet</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="interestSource" formControlName="interestSource" id="interestOther" value="OTHER">
          <label class="form-check-label" for="interestOther">Other</label>
        </div>
      </div>

      <!-- recommending field-->
      <div class="mb-3">
        <label for="recommend" class="form-label">Likelihood of Recommending This School</label>
        <select class="form-control" formControlName="recommendLikelihood" id="recommend" name="recommend">
          <option></option>
          <option value="VERY_LIKELY">Very Likely</option>
          <option value="LIKELY">Likely</option>
          <option value="UNLIKELY">Unlikely</option>
        </select>
      </div>

      <!-- additional comments  field-->
      <div class="mb-3">
        <label for="comments" class="form-label">Additional Comments</label>
        <textarea class="form-control" formControlName="additionalComments" id="comments" name="comments" rows="4"></textarea>
      </div>
      
      <div class="row">
        <div class="col-md-6">
            <button type="submit" class="btn me-2 btn-primary custom-btn-element">Submit</button>
            <button routerLink="/survey" class="btn btn-primary custom-btn-element">cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>


<button id="openModalButton" [hidden]="true" data-toggle="modal" data-bs-toggle="modal" data-bs-target="#messageModal">Open Modal</button>


<!-- Modal -->
<div class="modal" id="messageModal" tabindex="-1" aria-labelledby="messageModal" aria-hidden="true" #messageModal>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="messageModal">Place Order</h5>
        <button type="button" class="btn-close" #modalClose data-bs-dismiss="modal" aria-label="Close" routerLink="/survey"></button>
      </div>
      <div class="modal-body" *ngIf="isAddMode">
        Survey saved successfully!
      </div>
      <div class="modal-body" *ngIf="!isAddMode">
        Survey updated successfully!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" routerLink="/survey">Close</button>
      </div>
    </div>
  </div>
</div>